---
title: "How to use cleanETHPOP"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{how-to-use-package}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup, message = FALSE, warning=FALSE}
library(cleanETHPOP)
library(dplyr)
library(tidyr)
library(readr)
library(reshape2)
```

#### Clean birth data

```{r message = FALSE, warning=FALSE}
clean_births()
```

#### Clean death data

```{r message = FALSE, warning=FALSE}
clean_deaths()
```

#### Clean population data

```{r message = FALSE, warning=FALSE}
clean_pop()
```

#### Clean in-migration data

There are 2 different scenario available:

- 'Leeds1': BREXIT scenario
- 'Leeds2': ONS aligned scenario

```{r message = FALSE, warning=FALSE}
# where_data <- system.file("extdata", "Leeds1", "InMigrants", package = "cleanETHPOP")
where_data <- system.file("extdata", "Leeds2", "InMigrants", package = "cleanETHPOP")

clean_inmigrants(dir_path = where_data)
```


#### Clean out-migration data

```{r message = FALSE, warning=FALSE}
clean_outmigrants()
```

#### Create out-migration per capital data

```{r message = FALSE, warning=FALSE}
outmigrants_per_capita()
```
